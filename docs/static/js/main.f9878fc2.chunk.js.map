{"version":3,"sources":["components/Box/index.js","components/Puzzle/index.js","components/Indicator/index.js","components/Sidebar/index.js","lib/Confetti.js","components/Complete/index.js","data/box-model/index.js","data/box-model/sizes.js","data/box-model/margin.js","data/box-model/margin-2-boxes.js","data/index.js","data/direction/level-1.js","data/direction/level-2.js","data/direction/level-3.js","data/alignment/level-1.js","data/alignment/level-2.js","data/alignment/level-3.js","hooks/useSceneManager.js","App.js","index.js"],"names":["Box","width","_width","height","_height","x","_x","y","_y","label","resizable","passedClassName","onInput","useState","setX","setY","setWidth","setHeight","boxEl","useRef","putOnTop","current","document","querySelectorAll","forEach","el","style","zIndex","handleDrag","useCallback","event","data","deltaX","deltaY","target","classList","contains","handleResize","_","dir","ref","offsetWidth","offsetHeight","handleDragStop","handleResizeStop","resizeProps","includes","enableResizing","className","default","resizeGrid","dragGrid","onDrag","onDragStart","onDragStop","onResize","onResizeStart","onResizeStop","bounds","Puzzle","rng","level","sceneIndex","container","boxes","map","box","index","key","Cross","xmlns","d","fill","Checkmark","IndicatorIcon","correct","Sidebar","isMatch","isDirty","onSubmit","onReset","submitText","subText","headerText","children","onClick","disabled","SidebarContents","css","trim","html","SidebarIntroduction","confetti","maxCount","speed","frameInterval","alpha","gradient","start","stop","toggle","pause","resume","togglePause","remove","isPaused","isRunning","startConfetti","stopConfetti","streamingConfetti","pauseConfetti","resumeConfetti","particles","supportsAnimationFrame","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","colors","lastFrameTime","Date","now","waveAngle","context","resetParticle","particle","color","Math","random","length","color2","diameter","tilt","tiltAngleIncrement","tiltAngle","PI","runAnimation","clearRect","innerWidth","innerHeight","delta","i","sin","cos","splice","updateParticles","x2","y2","beginPath","lineWidth","createLinearGradient","addColorStop","strokeStyle","moveTo","lineTo","stroke","drawParticles","timeout","min","max","callback","setTimeout","canvas","getElementById","createElement","setAttribute","body","prepend","addEventListener","getContext","count","temp","push","Complete","canvasRef","handleResizing","debounce","console","log","clientWidth","clientHeight","useLayoutEffect","removeEventListener","id","subtext","goal","levels","boxModel","KEYS_TO_KEEP","transformScene","scene","JSON","parse","stringify","pick","App","introduction","setIntroduction","complete","setComplete","INITIAL_LEVEL","setSceneIndex","_scene","_goal","setMatch","setDirty","initialScene","referenceScene","updateScene","boxToUpdate","find","differenceWith","isEqual","setScene","newScene","newGoalScene","useSceneManager","toString","substring","setRng","goTo","handleLevelSubmit","ReactDOM","render"],"mappings":"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","file":"static/js/main.f9878fc2.chunk.js","sourcesContent":["import React, { useCallback, useRef, useState } from \"react\";\nimport { Rnd } from \"react-rnd\";\nimport \"./index.css\";\n\nexport const Box = ({\n  width: _width = 100,\n  height: _height = 100,\n  x: _x = 0,\n  y: _y = 0,\n  label,\n  resizable = [\"x\", \"y\"],\n  passedClassName,\n  onInput = () => {},\n}) => {\n  const [x, setX] = useState(_x);\n  const [y, setY] = useState(_y);\n  const [width, setWidth] = useState(_width);\n  const [height, setHeight] = useState(_height);\n\n  const boxEl = useRef();\n\n  const putOnTop = () => {\n    // Remove elevated z-index from other boxes\n    if (boxEl.current) {\n      document.querySelectorAll(\".Box\").forEach((el) => {\n        if (boxEl.current !== el) {\n          el.style.zIndex = 1;\n        }\n      });\n\n      // Increase this element's z-index\n      boxEl.current.style.zIndex = 10;\n    }\n  };\n\n  const handleDrag = useCallback(\n    (event, data) => {\n      setX(~~(x + data.deltaX));\n      setY(~~(y + data.deltaY));\n\n      if (!boxEl.current && event.target.classList.contains(\"Box\")) {\n        boxEl.current = event.target;\n      }\n\n      onInput(passedClassName, ~~x, ~~y, ~~width, ~~height);\n    },\n    [x, y, width, height, onInput, passedClassName]\n  );\n\n  const handleResize = useCallback(\n    (_, dir, ref) => {\n      setWidth(~~ref.offsetWidth);\n      setHeight(~~ref.offsetHeight);\n\n      if (!boxEl.current && ref.classList.contains(\"Box\")) {\n        boxEl.current = ref;\n      }\n\n      onInput(passedClassName, ~~x, ~~y, ~~width, ~~height);\n    },\n    [x, y, width, height, onInput, passedClassName]\n  );\n\n  const handleDragStop = useCallback(() => {\n    // Don't use this, it somehow breaks things\n    onInput(passedClassName, ~~x, ~~y, ~~width, ~~height);\n  }, [x, y, width, height, onInput, passedClassName]);\n\n  const handleResizeStop = useCallback(() => {\n    onInput(passedClassName, ~~x, ~~y, ~~width, ~~height);\n  }, [x, y, width, height, onInput, passedClassName]);\n\n  let resizeProps = {};\n\n  if (resizable) {\n    if (resizable.includes(\"x\") && !resizable.includes(\"y\")) {\n      resizeProps[\"maxHeight\"] = height;\n    }\n    if (resizable.includes(\"y\") && !resizable.includes(\"x\")) {\n      resizeProps[\"maxWidth\"] = width;\n    }\n  } else {\n    resizeProps = {\n      enableResizing: false,\n    };\n  }\n\n  return (\n    <Rnd\n      className=\"Box\"\n      default={{\n        x,\n        y,\n        width,\n        height,\n      }}\n      resizeGrid={[10, 10]}\n      dragGrid={[10, 10]}\n      onDrag={handleDrag}\n      onDragStart={putOnTop}\n      onDragStop={handleDragStop}\n      onResize={handleResize}\n      onResizeStart={putOnTop}\n      onResizeStop={handleResizeStop}\n      bounds=\"parent\"\n      {...resizeProps}\n    >\n      {/* <div className=\"Box__container\"> */}\n      <div className=\"Box__crosshair-x\"></div>\n      <div className=\"Box__crosshair-y\"></div>\n      {/* </div> */}\n      <div className=\"Box__coordinates\">\n        <pre>{label}</pre>\n        <pre>\n          Pos: {x}, {y}\n        </pre>\n        <pre>\n          Size: {width}, {height}\n        </pre>\n      </div>\n    </Rnd>\n  );\n};\n","import React from \"react\";\nimport { Box } from \"../Box/\";\nimport \"./index.css\";\n\nexport const Puzzle = ({ rng, level, sceneIndex, onInput }) => {\n  return (\n    <section className=\"Puzzle\">\n      <div className=\"Puzzle__border\">\n        <div\n          className=\"Puzzle__goal\"\n          style={{\n            width: level.container.width,\n            height: level.container.height,\n          }}\n        >\n          <div className=\"Puzzle__v-center\"></div>\n          <div className=\"Puzzle__h-center\"></div>\n          {level.boxes?.map((box, index) => (\n            <Box\n              key={`${sceneIndex}-${index}-${rng}`}\n              passedClassName={box.className}\n              label={`.${box.className}`}\n              x={box.x}\n              y={box.y}\n              width={box.width}\n              height={box.height}\n              resizable={box.resizable}\n              onInput={onInput}\n            />\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n};\n","import React from \"react\";\nimport \"./index.css\";\n\nconst Cross = ({ className = \"\" }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    className={className}\n  >\n    <path\n      d=\"M24 20.188l-8.315-8.209 8.2-8.282L20.188 0l-8.212 8.318L3.666.115 0 3.781l8.321 8.24-8.206 8.313L3.781 24l8.237-8.318 8.285 8.203z\"\n      fill=\"currentColor\"\n    ></path>\n  </svg>\n);\n\nconst Checkmark = ({ className = \"\" }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    className={className}\n  >\n    <path\n      d=\"M20.285 2L9 13.567 3.714 8.556 0 12.272 9 21 24 5.715z\"\n      fill=\"currentColor\"\n    ></path>\n  </svg>\n);\n\nexport const IndicatorIcon = ({ correct = false }) => (\n  <div\n    className={`Indicator__icon Indicator__icon${\n      correct ? \"--correct\" : \"--incorrect\"\n    }`}\n  >\n    <Cross className=\"Indicator__icon-cross\" />\n    <Checkmark className=\"Indicator__icon-checkmark\" />\n  </div>\n);\n\nexport const Indicator = ({ correct = false }) => {\n  return (\n    <div className=\"Indicator\">\n      <IndicatorIcon correct={correct} />\n      <div className=\"Indicator__label\">\n        {correct\n          ? \"The solution is correct\"\n          : \"Something isn't quite right yet\"}\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport Highlight from \"react-highlight\";\nimport { IndicatorIcon } from \"../Indicator\";\nimport \"./index.css\";\n\nexport const Sidebar = ({\n  isMatch,\n  isDirty,\n  onSubmit,\n  onReset,\n  submitText,\n  subText,\n  headerText,\n  children,\n}) => {\n  return (\n    <section className=\"Sidebar\">\n      <div>\n        <header className=\"Sidebar__header-container\">\n          {headerText && (\n            <>\n              <h1 className=\"Sidebar__header\">{headerText}</h1>\n              <p className=\"Sidebar__subtext\">{subText}</p>\n            </>\n          )}\n        </header>\n        {children}\n      </div>\n      <div className=\"Sidebar__button-container\">\n        {submitText && isDirty && (\n          <button className=\"SecondaryButton\" onClick={onReset}>\n            Reset\n          </button>\n        )}\n        {submitText && (\n          <button\n            className=\"PrimaryButton\"\n            onClick={onSubmit}\n            disabled={!isMatch}\n          >\n            {submitText}\n            {isDirty && (\n              <div className=\"PrimaryButton__contents\">\n                <IndicatorIcon correct={isMatch} />\n              </div>\n            )}\n          </button>\n        )}\n      </div>\n    </section>\n  );\n};\n\nexport const SidebarContents = ({ level }) => (\n  <>\n    <span className=\"label\">CSS</span>\n    <Highlight className=\"css\">{level.css.trim()}</Highlight>\n    <span className=\"label\">HTML</span>\n    <Highlight className=\"html\">{level.html.trim()}</Highlight>\n  </>\n);\n\nexport const SidebarIntroduction = () => (\n  <>\n    <p>\n      The goal of the game is to practice CSS by dragging and resizing boxes to\n      match how they should appear, given some HTML and CSS.\n    </p>\n    <p>Look out for the HTML and CSS right here in this left bar.</p>\n    <p>\n      Once you think you've got the answer, you'll be able to submit your answer\n      by pressing the \"submit\" button at the bottom of this sidebar.\n    </p>\n    <p>\n      If you want to start over, just press \"reset\" and the level will reset to\n      give you a fresh start.\n    </p>\n    <p>Good luck!</p>\n  </>\n);\n","var confetti = {\n  maxCount: 150, //set max confetti count\n  speed: 2, //set the particle animation speed\n  frameInterval: 15, //the confetti animation frame interval in milliseconds\n  alpha: 1.0, //the alpha opacity of the confetti (between 0 and 1, where 1 is opaque and 0 is invisible)\n  gradient: false, //whether to use gradients for the confetti particles\n  start: null, //call to start confetti animation (with optional timeout in milliseconds, and optional min and max random confetti count)\n  stop: null, //call to stop adding confetti\n  toggle: null, //call to start or stop the confetti animation depending on whether it's already running\n  pause: null, //call to freeze confetti animation\n  resume: null, //call to unfreeze confetti animation\n  togglePause: null, //call to toggle whether the confetti animation is paused\n  remove: null, //call to stop the confetti animation and remove all confetti immediately\n  isPaused: null, //call and returns true or false depending on whether the confetti animation is paused\n  isRunning: null, //call and returns true or false depending on whether the animation is running\n};\n\nconfetti.start = startConfetti;\nconfetti.stop = stopConfetti;\nconfetti.toggle = toggleConfetti;\nconfetti.pause = pauseConfetti;\nconfetti.resume = resumeConfetti;\nconfetti.togglePause = toggleConfettiPause;\nconfetti.isPaused = isConfettiPaused;\nconfetti.remove = removeConfetti;\nconfetti.isRunning = isConfettiRunning;\nvar supportsAnimationFrame =\n  window.requestAnimationFrame ||\n  window.webkitRequestAnimationFrame ||\n  window.mozRequestAnimationFrame ||\n  window.oRequestAnimationFrame ||\n  window.msRequestAnimationFrame;\nvar colors = [\n  \"rgba(30,144,255,\",\n  \"rgba(107,142,35,\",\n  \"rgba(255,215,0,\",\n  \"rgba(255,192,203,\",\n  \"rgba(106,90,205,\",\n  \"rgba(173,216,230,\",\n  \"rgba(238,130,238,\",\n  \"rgba(152,251,152,\",\n  \"rgba(70,130,180,\",\n  \"rgba(244,164,96,\",\n  \"rgba(210,105,30,\",\n  \"rgba(220,20,60,\",\n];\nvar streamingConfetti = false;\nvar animationTimer = null;\nvar pause = false;\nvar lastFrameTime = Date.now();\nvar particles = [];\nvar waveAngle = 0;\nvar context = null;\n\nfunction resetParticle(particle, width, height) {\n  particle.color =\n    colors[(Math.random() * colors.length) | 0] + (confetti.alpha + \")\");\n  particle.color2 =\n    colors[(Math.random() * colors.length) | 0] + (confetti.alpha + \")\");\n  particle.x = Math.random() * width;\n  particle.y = Math.random() * height - height;\n  particle.diameter = Math.random() * 10 + 5;\n  particle.tilt = Math.random() * 10 - 10;\n  particle.tiltAngleIncrement = Math.random() * 0.07 + 0.05;\n  particle.tiltAngle = Math.random() * Math.PI;\n  return particle;\n}\n\nfunction toggleConfettiPause() {\n  if (pause) resumeConfetti();\n  else pauseConfetti();\n}\n\nfunction isConfettiPaused() {\n  return pause;\n}\n\nfunction pauseConfetti() {\n  pause = true;\n}\n\nfunction resumeConfetti() {\n  pause = false;\n  runAnimation();\n}\n\nfunction runAnimation() {\n  if (pause) return;\n  else if (particles.length === 0) {\n    context.clearRect(0, 0, window.innerWidth, window.innerHeight);\n    animationTimer = null;\n  } else {\n    var now = Date.now();\n    var delta = now - lastFrameTime;\n    if (!supportsAnimationFrame || delta > confetti.frameInterval) {\n      context.clearRect(0, 0, window.innerWidth, window.innerHeight);\n      updateParticles();\n      drawParticles(context);\n      lastFrameTime = now - (delta % confetti.frameInterval);\n    }\n    animationTimer = requestAnimationFrame(runAnimation);\n  }\n}\n\nexport function startConfetti(timeout, min, max) {\n  var width = window.innerWidth;\n  var height = window.innerHeight;\n  window.requestAnimationFrame = (function () {\n    return (\n      window.requestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.oRequestAnimationFrame ||\n      window.msRequestAnimationFrame ||\n      function (callback) {\n        return window.setTimeout(callback, confetti.frameInterval);\n      }\n    );\n  })();\n  var canvas = document.getElementById(\"confetti-canvas\");\n  if (canvas === null) {\n    canvas = document.createElement(\"canvas\");\n    canvas.setAttribute(\"id\", \"confetti-canvas\");\n    canvas.setAttribute(\n      \"style\",\n      \"display:block;z-index:999999;pointer-events:none;position:fixed;top:0\"\n    );\n    document.body.prepend(canvas);\n    canvas.width = width;\n    canvas.height = height;\n    window.addEventListener(\n      \"resize\",\n      function () {\n        canvas.width = window.innerWidth;\n        canvas.height = window.innerHeight;\n      },\n      true\n    );\n    context = canvas.getContext(\"2d\");\n  } else if (context === null) context = canvas.getContext(\"2d\");\n  var count = confetti.maxCount;\n  if (min) {\n    if (max) {\n      if (min == max) count = particles.length + max;\n      else {\n        if (min > max) {\n          var temp = min;\n          min = max;\n          max = temp;\n        }\n        count = particles.length + ((Math.random() * (max - min) + min) | 0);\n      }\n    } else count = particles.length + min;\n  } else if (max) count = particles.length + max;\n  while (particles.length < count)\n    particles.push(resetParticle({}, width, height));\n  streamingConfetti = true;\n  pause = false;\n  runAnimation();\n  if (timeout) {\n    window.setTimeout(stopConfetti, timeout);\n  }\n}\n\nexport function stopConfetti() {\n  streamingConfetti = false;\n}\n\nfunction removeConfetti() {\n  // stop(); // not sure what this function is?\n  pause = false;\n  particles = [];\n}\n\nfunction toggleConfetti() {\n  if (streamingConfetti) stopConfetti();\n  else startConfetti();\n}\n\nfunction isConfettiRunning() {\n  return streamingConfetti;\n}\n\nfunction drawParticles(context) {\n  var particle;\n  var x, y, x2, y2;\n  for (var i = 0; i < particles.length; i++) {\n    particle = particles[i];\n    context.beginPath();\n    context.lineWidth = particle.diameter;\n    x2 = particle.x + particle.tilt;\n    x = x2 + particle.diameter / 2;\n    y2 = particle.y + particle.tilt + particle.diameter / 2;\n    if (confetti.gradient) {\n      var gradient = context.createLinearGradient(x, particle.y, x2, y2);\n      gradient.addColorStop(\"0\", particle.color);\n      gradient.addColorStop(\"1.0\", particle.color2);\n      context.strokeStyle = gradient;\n    } else context.strokeStyle = particle.color;\n    context.moveTo(x, particle.y);\n    context.lineTo(x2, y2);\n    context.stroke();\n  }\n}\n\nfunction updateParticles() {\n  var width = window.innerWidth;\n  var height = window.innerHeight;\n  var particle;\n  waveAngle += 0.01;\n  for (var i = 0; i < particles.length; i++) {\n    particle = particles[i];\n    if (!streamingConfetti && particle.y < -15) particle.y = height + 100;\n    else {\n      particle.tiltAngle += particle.tiltAngleIncrement;\n      particle.x += Math.sin(waveAngle) - 0.5;\n      particle.y +=\n        (Math.cos(waveAngle) + particle.diameter + confetti.speed) * 0.5;\n      particle.tilt = Math.sin(particle.tiltAngle) * 15;\n    }\n    if (particle.x > width + 20 || particle.x < -20 || particle.y > height) {\n      if (streamingConfetti && particles.length <= confetti.maxCount)\n        resetParticle(particle, width, height);\n      else {\n        particles.splice(i, 1);\n        i--;\n      }\n    }\n  }\n}\n","import React, { useState, useLayoutEffect, useRef } from \"react\";\nimport { startConfetti, stopConfetti } from \"../../lib/Confetti\";\nimport debounce from \"lodash/debounce\";\nimport \"./index.css\";\n\nexport const Complete = () => {\n  const canvasRef = useRef();\n\n  const handleResizing = debounce(() => {\n    console.log(\n      \"resizing the canvas to be \",\n      canvasRef.current.width,\n      canvasRef.current.height\n    );\n    canvasRef.current.width = canvasRef.current.clientWidth;\n    canvasRef.current.height = canvasRef.current.clientHeight;\n  }, 50);\n\n  useLayoutEffect(\n    () => {\n      startConfetti();\n      handleResizing();\n      window.addEventListener(\"resize\", handleResizing);\n    },\n    () => {\n      stopConfetti();\n      window.removeEventListener(\"resize\", handleResizing);\n    }\n  );\n\n  return (\n    <div className=\"Complete\">\n      <canvas id=\"confetti-canvas\" ref={canvasRef}></canvas>\n      <h2 className=\"Complete__header\">Congratulations!</h2>\n      <p className=\"Complete__text\">\n        You've completed every level in the game!\n      </p>\n      <br />\n      <p className=\"Complete__subtext\">\n        Check back in the future for some more content.\n      </p>\n    </div>\n  );\n};\n","import { sizes } from \"./sizes\";\nimport { margin } from \"./margin\";\nimport { margin2Boxes } from \"./margin-2-boxes\";\n\nexport default [sizes, margin, margin2Boxes];\n","export const sizes = {\n  css: `\n  .some-box {\n    width: 300px;\n    height: 200px;\n  }\n`,\n  html: `\n<div class=\"container\">\n  <div class=\"some-box\"></div>\n</div>`,\n  subtext: \"The basics\",\n  container: {\n    className: \"container\",\n    x: 0,\n    y: 0,\n    width: 400,\n    height: 400,\n  },\n  boxes: [\n    {\n      className: \"some-box\",\n      x: 0,\n      y: 0,\n      width: 100,\n      height: 100,\n      resizable: [\"x\", \"y\"],\n    },\n  ],\n  goal: [\n    {\n      className: \"some-box\",\n      x: 0,\n      y: 0,\n      width: 300,\n      height: 200,\n    },\n  ],\n};\n","export const margin = {\n  css: `\n  .some-box {\n    width: 200px;\n    height: 200px;\n    margin: 10px;\n  }\n`,\n  html: `\n<div class=\"container\">\n  <div class=\"some-box\"></div>\n</div>`,\n  subtext: \"The basics\",\n  container: {\n    className: \"container\",\n    x: 0,\n    y: 0,\n    width: 400,\n    height: 400,\n  },\n  boxes: [\n    {\n      className: \"some-box\",\n      x: 0,\n      y: 0,\n      width: 100,\n      height: 100,\n      resizable: [\"x\", \"y\"],\n    },\n  ],\n  goal: [\n    {\n      className: \"some-box\",\n      x: 10,\n      y: 10,\n      width: 200,\n      height: 200,\n    },\n  ],\n};\n","export const margin2Boxes = {\n  css: `\n  .b-1 {\n    width: 200px;\n    height: 200px;\n    margin: 10px;\n  }\n  .b-2 {\n    width: 200px;\n    height: 200px;\n    margin: 10px;\n  }\n`,\n  html: `\n<div class=\"container\">\n  <div class=\"b-1\"></div>\n  <div class=\"b-2\"></div>\n</div>`,\n  subtext: \"The basics\",\n  container: {\n    className: \"container\",\n    x: 0,\n    y: 0,\n    width: 500,\n    height: 400,\n  },\n  boxes: [\n    {\n      className: \"b-1\",\n      x: 0,\n      y: 0,\n      width: 100,\n      height: 100,\n      resizable: [\"x\", \"y\"],\n    },\n    {\n      className: \"b-2\",\n      x: 50,\n      y: 50,\n      width: 100,\n      height: 100,\n      resizable: [\"x\", \"y\"],\n    },\n  ],\n  goal: [\n    {\n      className: \"b-1\",\n      x: 10,\n      y: 10,\n      width: 200,\n      height: 200,\n      resizable: [\"x\", \"y\"],\n    },\n    {\n      className: \"b-2\",\n      x: 230,\n      y: 10,\n      width: 200,\n      height: 200,\n      resizable: [\"x\", \"y\"],\n    },\n  ],\n};\n","import boxModel from \"./box-model\";\nimport { direction1 } from \"./direction/level-1\";\nimport { direction2 } from \"./direction/level-2\";\nimport { direction3 } from \"./direction/level-3\";\nimport { alignment1 } from \"./alignment/level-1\";\nimport { alignment2 } from \"./alignment/level-2\";\nimport { alignment3 } from \"./alignment/level-3\";\n\nexport const levels = [\n  ...boxModel,\n  direction1,\n  direction2,\n  direction3,\n  alignment1,\n  alignment2,\n  alignment3,\n];\n","export const direction1 = {\n  css: `\n.container {\n  display: flex;\n}`,\n  html: `\n<div class=\"container\">\n  <div class=\"box-1\"></div>\n  <div class=\"box-2\"></div>\n</div>`,\n  subtext: \"The basics\",\n  container: {\n    className: \"container\",\n    x: 0,\n    y: 0,\n    width: 400,\n    height: 400,\n  },\n  boxes: [\n    {\n      className: \"box-2\",\n      x: 0,\n      y: 0,\n      width: 200,\n      height: 200,\n      resizable: false,\n    },\n    {\n      className: \"box-1\",\n      x: 100,\n      y: 100,\n      width: 200,\n      height: 200,\n      resizable: false,\n    },\n  ],\n  goal: [\n    {\n      className: \"box-1\",\n      x: 0,\n      y: 0,\n      width: 200,\n      height: 200,\n    },\n    {\n      className: \"box-2\",\n      x: 200,\n      y: 0,\n      width: 200,\n      height: 200,\n    },\n  ],\n};\n","export const direction2 = {\n  css: `\n.container {\n  display: flex;\n  flex-direction: column;\n}`,\n  html: `\n<div class=\"container\">\n  <div class=\"box-1\"></div>\n  <div class=\"box-2\"></div>\n</div>`,\n  subtext: \"The basics\",\n  container: {\n    className: \"container\",\n    x: 0,\n    y: 0,\n    width: 400,\n    height: 400,\n  },\n  boxes: [\n    {\n      className: \"box-2\",\n      x: 0,\n      y: 0,\n      width: 200,\n      height: 200,\n      resizable: false,\n    },\n    {\n      className: \"box-1\",\n      x: 100,\n      y: 100,\n      width: 200,\n      height: 200,\n      resizable: false,\n    },\n  ],\n  goal: [\n    {\n      className: \"box-1\",\n      x: 0,\n      y: 0,\n      width: 200,\n      height: 200,\n    },\n    {\n      className: \"box-2\",\n      x: 0,\n      y: 200,\n      width: 200,\n      height: 200,\n    },\n  ],\n};\n","export const direction3 = {\n  css: `\n.container {\n  display: flex;\n  flex-direction: row-reverse;\n}`,\n  html: `\n<div class=\"container\">\n  <div class=\"box-1\"></div>\n  <div class=\"box-2\"></div>\n</div>`,\n  container: {\n    subtext: \"A twist\",\n    className: \"container\",\n    x: 0,\n    y: 0,\n    width: 400,\n    height: 400,\n  },\n  boxes: [\n    {\n      className: \"box-2\",\n      x: 0,\n      y: 0,\n      width: 200,\n      height: 200,\n      resizable: false,\n    },\n    {\n      className: \"box-1\",\n      x: 100,\n      y: 100,\n      width: 200,\n      height: 200,\n      resizable: false,\n    },\n  ],\n  goal: [\n    {\n      className: \"box-2\",\n      x: 0,\n      y: 0,\n      width: 200,\n      height: 200,\n    },\n    {\n      className: \"box-1\",\n      x: 200,\n      y: 0,\n      width: 200,\n      height: 200,\n    },\n  ],\n};\n","export const alignment1 = {\n  css: `\n.container {\n  display: flex;\n  align-items: center;\n}`,\n  html: `\n<div class=\"container\">\n  <div class=\"box-1\"></div>\n  <div class=\"box-2\"></div>\n</div>`,\n  container: {\n    subtext: \"Lined up\",\n    className: \"container\",\n    x: 0,\n    y: 0,\n    width: 400,\n    height: 400,\n  },\n  boxes: [\n    {\n      className: \"box-2\",\n      x: 0,\n      y: 0,\n      width: 140,\n      height: 260,\n      resizable: false,\n    },\n    {\n      className: \"box-1\",\n      x: 100,\n      y: 100,\n      width: 200,\n      height: 200,\n      resizable: false,\n    },\n  ],\n  goal: [\n    {\n      className: \"box-1\",\n      x: 0,\n      y: 100,\n      width: 200,\n      height: 200,\n    },\n    {\n      className: \"box-2\",\n      x: 200,\n      y: 70,\n      width: 140,\n      height: 260,\n    },\n  ],\n};\n","export const alignment2 = {\n  css: `\n.container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}`,\n  html: `\n<div class=\"container\">\n  <div class=\"box-1\"></div>\n</div>`,\n  container: {\n    className: \"container\",\n    x: 0,\n    y: 0,\n    width: 400,\n    height: 400,\n  },\n  boxes: [\n    {\n      className: \"box-1\",\n      x: 0,\n      y: 0,\n      width: 200,\n      height: 200,\n      resizable: false,\n    },\n  ],\n  goal: [\n    {\n      className: \"box-1\",\n      x: 100,\n      y: 100,\n      width: 200,\n      height: 200,\n      resizable: false,\n    },\n  ],\n};\n","export const alignment3 = {\n  css: `\n.container {\n  display: flex;\n  align-items: stretch;\n}`,\n  html: `\n<div class=\"container\">\n  <div class=\"box-1\"></div>\n  <div class=\"box-2\"></div>\n</div>`,\n  container: {\n    className: \"container\",\n    x: 0,\n    y: 0,\n    width: 400,\n    height: 400,\n  },\n  boxes: [\n    {\n      className: \"box-1\",\n      x: 0,\n      y: 0,\n      width: 200,\n      height: 200,\n      resizable: [\"y\"],\n    },\n    {\n      className: \"box-2\",\n      x: 100,\n      y: 100,\n      width: 200,\n      height: 200,\n      resizable: [\"y\"],\n    },\n  ],\n  goal: [\n    {\n      className: \"box-1\",\n      x: 0,\n      y: 0,\n      width: 200,\n      height: 400,\n    },\n    {\n      className: \"box-2\",\n      x: 200,\n      y: 0,\n      width: 200,\n      height: 400,\n    },\n  ],\n};\n","import { useState, useRef, useCallback } from \"react\";\nimport pick from \"lodash/pick\";\nimport isEqual from \"lodash/isEqual\";\nimport differenceWith from \"lodash/differenceWith\";\n\nconst KEYS_TO_KEEP = [\"className\", \"x\", \"y\", \"width\", \"height\"];\n\nconst transformScene = (scene) =>\n  JSON.parse(JSON.stringify(scene.map((box) => pick(box, KEYS_TO_KEEP))));\n\nexport const useSceneManager = (_scene, _goal) => {\n  const [isMatch, setMatch] = useState(false);\n  const [isDirty, setDirty] = useState(false);\n  const scene = useRef(transformScene(_scene));\n  const initialScene = useRef(transformScene(_scene));\n  const referenceScene = useRef(transformScene(_goal));\n\n  const updateScene = useCallback(\n    (className, x, y, width, height) => {\n      // Set what we have stored to match what's given\n      const boxToUpdate = scene.current.find(\n        (box) => box.className === className\n      );\n      boxToUpdate.x = x;\n      boxToUpdate.y = y;\n      boxToUpdate.width = width;\n      boxToUpdate.height = height;\n\n      // Set if it's a win\n      setMatch(\n        differenceWith(scene.current, referenceScene.current, isEqual)\n          .length === 0\n      );\n      if (!isDirty) {\n        setDirty(true);\n      }\n    },\n    [scene, initialScene]\n  );\n\n  const setScene = useCallback(\n    (newScene, newGoalScene) => {\n      scene.current = transformScene(newScene);\n      initialScene.current = transformScene(newScene);\n      referenceScene.current = transformScene(newGoalScene);\n      setMatch(false);\n      setDirty(false);\n    },\n    [scene, initialScene]\n  );\n\n  return [isMatch, isDirty, updateScene, setScene];\n};\n","import React, { useState, useCallback } from \"react\";\nimport \"./App.css\";\nimport { Puzzle } from \"./components/Puzzle/\";\nimport {\n  Sidebar,\n  SidebarContents,\n  SidebarIntroduction,\n} from \"./components/Sidebar/\";\nimport { Complete } from \"./components/Complete\";\nimport { levels } from \"./data\";\nimport { useSceneManager } from \"./hooks/useSceneManager\";\n\nconst INITIAL_LEVEL = 1;\n\nconst App = () => {\n  // Whether or not to show the intro screen\n  const [introduction, setIntroduction] = useState(true);\n\n  // Whether or not to show the final screen\n  const [complete, setComplete] = useState(false);\n\n  const [sceneIndex, setSceneIndex] = useState(INITIAL_LEVEL - 1);\n  const [isMatch, isDirty, updateScene, setScene] = useSceneManager(\n    levels[sceneIndex].boxes,\n    levels[sceneIndex].goal\n  );\n  const [rng, setRng] = useState(Math.random().toString(36).substring(7));\n\n  const goTo = useCallback(\n    (sceneIndex) => {\n      setSceneIndex(sceneIndex);\n      setScene(levels[sceneIndex].boxes, levels[sceneIndex].goal);\n    },\n    [setScene]\n  );\n\n  const handleLevelSubmit = useCallback(() => {\n    if (introduction) {\n      setIntroduction(false);\n      return;\n    }\n\n    // If it's a win, proceed\n    if (isMatch) {\n      if (sceneIndex + 1 === levels.length) {\n        setComplete(true);\n        return;\n      }\n      goTo((sceneIndex + 1) % levels.length);\n    }\n  }, [sceneIndex, isMatch, goTo, introduction]);\n\n  const handleReset = () => {\n    setScene(levels[sceneIndex].boxes, levels[sceneIndex].goal);\n    setRng(Math.random().toString(36).substring(7));\n  };\n\n  const getSubmitText = () => {\n    if (introduction) {\n      return \"Begin\";\n    }\n    if (complete) {\n      return null;\n    }\n    return \"Submit\";\n  };\n\n  const getHeaderText = () => {\n    if (introduction) {\n      return \"Weird flex but ok\";\n    }\n    if (complete) {\n      return null;\n    }\n    return `Level ${sceneIndex + 1}`;\n  };\n\n  const getSubText = () => {\n    if (introduction) {\n      return \"A CSS flexbox puzzle game\";\n    }\n    if (complete) {\n      return \"\";\n    }\n    return levels[sceneIndex].subtext ? `“${levels[sceneIndex].subtext}”` : \"\";\n  };\n\n  return (\n    <main>\n      <Sidebar\n        isMatch={introduction || isMatch}\n        isDirty={isDirty}\n        onReset={handleReset}\n        onSubmit={handleLevelSubmit}\n        submitText={getSubmitText()}\n        headerText={getHeaderText()}\n        subText={getSubText()}\n      >\n        {introduction && <SidebarIntroduction />}\n        {!introduction && !complete && (\n          <SidebarContents level={levels[sceneIndex]} />\n        )}\n      </Sidebar>\n      {!introduction && !complete && (\n        <Puzzle\n          rng={rng}\n          level={levels[sceneIndex]}\n          sceneIndex={sceneIndex}\n          onInput={updateScene}\n        />\n      )}\n      {complete && <Complete />}\n    </main>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById(\"root\")\n);\n\n"],"sourceRoot":""}