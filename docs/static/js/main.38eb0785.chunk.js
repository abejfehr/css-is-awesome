(this["webpackJsonpflex-practice"]=this["webpackJsonpflex-practice"]||[]).push([[0],{250:function(e,t,n){},256:function(e,t,n){},257:function(e,t,n){},348:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(22),r=n.n(s),l=(n(55),n(1)),c=(n(56),n(57),n(43)),o=(n(60),function(e){var t=e.width,n=void 0===t?100:t,s=e.height,r=void 0===s?100:s,o=e.x,d=void 0===o?0:o,u=e.y,m=void 0===u?0:u,h=e.label,g=e.resizable,b=void 0===g?["x","y"]:g,v=e.passedClassName,x=e.onInput,f=void 0===x?function(){}:x,w=Object(a.useState)(d),p=Object(l.a)(w,2),y=p[0],E=p[1],N=Object(a.useState)(m),S=Object(l.a)(N,2),O=S[0],z=S[1],j=Object(a.useState)(n),C=Object(l.a)(j,2),_=C[0],A=C[1],k=Object(a.useState)(r),I=Object(l.a)(k,2),R=I[0],M=I[1],W=Object(a.useRef)(),H=function(){W.current&&(document.querySelectorAll(".Box").forEach((function(e){W.current!==e&&(e.style.zIndex=1)})),W.current.style.zIndex=10)},q=Object(a.useCallback)((function(e,t){E(~~(y+t.deltaX)),z(~~(O+t.deltaY)),!W.current&&e.target.classList.contains("Box")&&(W.current=e.target),f(v,~~y,~~O,~~_,~~R)}),[y,O,_,R]),F=Object(a.useCallback)((function(e,t,n){A(~~n.offsetWidth),M(~~n.offsetHeight),!W.current&&n.classList.contains("Box")&&(W.current=n),f(v,~~y,~~O,~~_,~~R)}),[y,O,_,R]),L=Object(a.useCallback)((function(){f(v,~~y,~~O,~~_,~~R)}),[y,O,_,R]),B=Object(a.useCallback)((function(){f(v,~~y,~~O,~~_,~~R)}),[y,O,_,R]),T={};return b?(b.includes("x")&&(T.maxHeight=R),b.includes("y")&&(T.maxWidth=_)):T={enableResizing:!1},i.a.createElement(c.a,Object.assign({className:"Box",default:{x:y,y:O,width:_,height:R},resizeGrid:[10,10],dragGrid:[10,10],onDrag:q,onDragStart:H,onDragStop:L,onResize:F,onResizeStart:H,onResizeStop:B,bounds:"parent"},T),i.a.createElement("div",{className:"Box__crosshair-x"}),i.a.createElement("div",{className:"Box__crosshair-y"}),i.a.createElement("div",{className:"Box__coordinates"},i.a.createElement("pre",null,h),i.a.createElement("pre",null,"Pos: ",y,", ",O),i.a.createElement("pre",null,"Size: ",_,", ",R)))}),d=(n(61),function(e){var t,n=e.rng,a=e.level,s=e.sceneIndex,r=e.onInput,l=e.onReset;return i.a.createElement("section",{className:"SolutionArea"},"Level ",s+1,i.a.createElement("div",{className:"SolutionArea__goal",style:{width:a.canvasWidth,height:a.canvasHeight}},i.a.createElement("div",{className:"SolutionArea__v-center"}),i.a.createElement("div",{className:"SolutionArea__h-center"}),null===(t=a.boxes)||void 0===t?void 0:t.map((function(e,t){return i.a.createElement(o,{key:"".concat(s,"-").concat(t,"-").concat(n),passedClassName:e.className,label:".".concat(e.className),x:e.x,y:e.y,width:e.width,height:e.height,resizable:e.resizable,onInput:r})}))),i.a.createElement("button",{onClick:l},"reset"))}),u=n(23),m=n.n(u),h=(n(250),function(e){var t=e.onSubmit,n=e.submitText,a=e.children;return i.a.createElement("section",{className:"Sidebar"},i.a.createElement("div",null,i.a.createElement("header",null,i.a.createElement("h1",{className:"Sidebar__header"},"Weird flex but OK"),i.a.createElement("p",{className:"Sidebar__subtext"},"Put your CSS skills to the test in this CSS puzzle game")),a),n&&i.a.createElement("button",{onClick:t},n))}),g=function(e){var t=e.level;return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"label"},"CSS"),i.a.createElement(m.a,{className:"css"},t.css.trim()),i.a.createElement("span",{className:"label"},"HTML"),i.a.createElement(m.a,{className:"html"},t.html.trim()))},b=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"Welcome to this ridiculous CSS puzzle!"),i.a.createElement("p",null,"The goal of this game is to practice CSS by dragging and resizing boxes to match how they should appear, given some HTML and CSS."))},v={maxCount:150,speed:2,frameInterval:15,alpha:1,gradient:!1,start:null,stop:null,toggle:null,pause:null,resume:null,togglePause:null,remove:null,isPaused:null,isRunning:null};v.start=_,v.stop=A,v.toggle=function(){w?A():_()},v.pause=z,v.resume=j,v.togglePause=function(){p?j():z()},v.isPaused=function(){return p},v.remove=function(){p=!1,E=[]},v.isRunning=function(){return w};var x=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,f=["rgba(30,144,255,","rgba(107,142,35,","rgba(255,215,0,","rgba(255,192,203,","rgba(106,90,205,","rgba(173,216,230,","rgba(238,130,238,","rgba(152,251,152,","rgba(70,130,180,","rgba(244,164,96,","rgba(210,105,30,","rgba(220,20,60,"],w=!1,p=!1,y=Date.now(),E=[],N=0,S=null;function O(e,t,n){return e.color=f[Math.random()*f.length|0]+(v.alpha+")"),e.color2=f[Math.random()*f.length|0]+(v.alpha+")"),e.x=Math.random()*t,e.y=Math.random()*n-n,e.diameter=10*Math.random()+5,e.tilt=10*Math.random()-10,e.tiltAngleIncrement=.07*Math.random()+.05,e.tiltAngle=Math.random()*Math.PI,e}function z(){p=!0}function j(){p=!1,C()}function C(){if(!p)if(0===E.length)S.clearRect(0,0,window.innerWidth,window.innerHeight),null;else{var e=Date.now(),t=e-y;(!x||t>v.frameInterval)&&(S.clearRect(0,0,window.innerWidth,window.innerHeight),function(){var e,t=window.innerWidth,n=window.innerHeight;N+=.01;for(var a=0;a<E.length;a++)e=E[a],!w&&e.y<-15?e.y=n+100:(e.tiltAngle+=e.tiltAngleIncrement,e.x+=Math.sin(N)-.5,e.y+=.5*(Math.cos(N)+e.diameter+v.speed),e.tilt=15*Math.sin(e.tiltAngle)),(e.x>t+20||e.x<-20||e.y>n)&&(w&&E.length<=v.maxCount?O(e,t,n):(E.splice(a,1),a--))}(),function(e){for(var t,n,a,i,s=0;s<E.length;s++){if(t=E[s],e.beginPath(),e.lineWidth=t.diameter,a=t.x+t.tilt,n=a+t.diameter/2,i=t.y+t.tilt+t.diameter/2,v.gradient){var r=e.createLinearGradient(n,t.y,a,i);r.addColorStop("0",t.color),r.addColorStop("1.0",t.color2),e.strokeStyle=r}else e.strokeStyle=t.color;e.moveTo(n,t.y),e.lineTo(a,i),e.stroke()}}(S),y=e-t%v.frameInterval),requestAnimationFrame(C)}}function _(e,t,n){var a=window.innerWidth,i=window.innerHeight;window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,v.frameInterval)};var s=document.getElementById("confetti-canvas");null===s?((s=document.createElement("canvas")).setAttribute("id","confetti-canvas"),s.setAttribute("style","display:block;z-index:999999;pointer-events:none;position:fixed;top:0"),document.body.prepend(s),s.width=a,s.height=i,window.addEventListener("resize",(function(){s.width=window.innerWidth,s.height=window.innerHeight}),!0),S=s.getContext("2d")):null===S&&(S=s.getContext("2d"));var r=v.maxCount;if(t)if(n)if(t==n)r=E.length+n;else{if(t>n){var l=t;t=n,n=l}r=E.length+(Math.random()*(n-t)+t|0)}else r=E.length+t;else n&&(r=E.length+n);for(;E.length<r;)E.push(O({},a,i));w=!0,p=!1,C(),e&&window.setTimeout(A,e)}function A(){w=!1}var k=n(46),I=n.n(k),R=(n(256),function(){var e=Object(a.useRef)(),t=I()((function(){console.log("resizing the canvas to be ",e.current.width,e.current.height),e.current.width=e.current.clientWidth,e.current.height=e.current.clientHeight}),50);return Object(a.useLayoutEffect)((function(){_(),t(),window.addEventListener("resize",t)}),(function(){A(),window.removeEventListener("resize",t)})),i.a.createElement("div",{className:"Complete"},i.a.createElement("canvas",{id:"confetti-canvas",ref:e}),i.a.createElement("h2",{className:"Complete__header"},"Congratulations!"),i.a.createElement("p",{className:"Complete__text"},"You've completed every level in the game!"),i.a.createElement("br",null),i.a.createElement("p",{className:"Complete__subtext"},"Check back in the future for some more content."))}),M=(n(257),function(e){var t=e.className,n=void 0===t?"":t;return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",className:n},i.a.createElement("path",{d:"M24 20.188l-8.315-8.209 8.2-8.282L20.188 0l-8.212 8.318L3.666.115 0 3.781l8.321 8.24-8.206 8.313L3.781 24l8.237-8.318 8.285 8.203z",fill:"currentColor"}))}),W=function(e){var t=e.className,n=void 0===t?"":t;return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",className:n},i.a.createElement("path",{d:"M20.285 2L9 13.567 3.714 8.556 0 12.272 9 21 24 5.715z",fill:"currentColor"}))},H=function(e){var t=e.correct,n=void 0!==t&&t;return i.a.createElement("div",{className:"Indicator"},i.a.createElement("div",{className:"Indicator__icon Indicator__icon".concat(n?"--correct":"--incorrect")},i.a.createElement(M,{className:"Indicator__icon-cross"}),i.a.createElement(W,{className:"Indicator__icon-checkmark"})),i.a.createElement("div",{className:"Indicator__label"},n?"The solution is correct":"Something isn't quite right yet"))},q=[{css:"\n.container {\n  display: flex;\n}",html:'\n<div class="container">\n  <div class="box-1"></div>\n  <div class="box-2"></div>\n</div>',canvasWidth:400,canvasHeight:400,boxes:[{className:"box-2",x:0,y:0,width:200,height:200,resizable:!1},{className:"box-1",x:100,y:100,width:200,height:200,resizable:!1}],goal:[{className:"box-1",x:0,y:0,width:200,height:200},{className:"box-2",x:200,y:0,width:200,height:200}]},{css:"\n.container {\n  display: flex;\n  flex-direction: column;\n}",html:'\n<div class="container">\n  <div class="box-1"></div>\n  <div class="box-2"></div>\n</div>',canvasWidth:400,canvasHeight:400,boxes:[{className:"box-2",x:0,y:0,width:200,height:200,resizable:!1},{className:"box-1",x:100,y:100,width:200,height:200,resizable:!1}],goal:[{className:"box-1",x:0,y:0,width:200,height:200},{className:"box-2",x:0,y:200,width:200,height:200}]},{css:"\n.container {\n  display: flex;\n  flex-direction: row-reverse;\n}",html:'\n<div class="container">\n  <div class="box-1"></div>\n  <div class="box-2"></div>\n</div>',canvasWidth:400,canvasHeight:400,boxes:[{className:"box-2",x:0,y:0,width:200,height:200,resizable:!1},{className:"box-1",x:100,y:100,width:200,height:200,resizable:!1}],goal:[{className:"box-2",x:0,y:0,width:200,height:200},{className:"box-1",x:200,y:0,width:200,height:200}]},{css:"\n.container {\n  display: flex;\n  align-items: center;\n}",html:'\n<div class="container">\n  <div class="box-1"></div>\n  <div class="box-2"></div>\n</div>',canvasWidth:400,canvasHeight:400,boxes:[{className:"box-2",x:0,y:0,width:140,height:260,resizable:!1},{className:"box-1",x:100,y:100,width:200,height:200,resizable:!1}],goal:[{className:"box-1",x:0,y:100,width:200,height:200},{className:"box-2",x:200,y:70,width:140,height:260}]},{css:"\n.container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}",html:'\n<div class="container">\n  <div class="box-1"></div>\n</div>',canvasWidth:400,canvasHeight:400,boxes:[{className:"box-1",x:0,y:0,width:200,height:200,resizable:!1}],goal:[{className:"box-1",x:100,y:100,width:200,height:200,resizable:!1}]},{css:"\n.container {\n  display: flex;\n  align-items: stretch;\n}",html:'\n<div class="container">\n  <div class="box-1"></div>\n  <div class="box-2"></div>\n</div>',canvasWidth:400,canvasHeight:400,boxes:[{className:"box-1",x:0,y:0,width:200,height:200,resizable:["y"]},{className:"box-2",x:100,y:100,width:200,height:200,resizable:["y"]}],goal:[{className:"box-1",x:0,y:0,width:200,height:400},{className:"box-2",x:200,y:0,width:200,height:400}]}],F=n(47),L=n.n(F),B=n(48),T=n.n(B),P=n(49),D=n.n(P),J=["className","x","y","width","height"],G=function(e){return JSON.parse(JSON.stringify(e.map((function(e){return L()(e,J)}))))},Y=function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(!1),c=Object(l.a)(r,2),o=c[0],u=c[1],m=Object(a.useState)(0),v=Object(l.a)(m,2),x=v[0],f=v[1],w=function(e,t){var n=Object(a.useState)(!1),i=Object(l.a)(n,2),s=i[0],r=i[1],c=Object(a.useState)(!1),o=Object(l.a)(c,2),d=o[0],u=o[1],m=Object(a.useRef)(G(e)),h=Object(a.useRef)(G(e)),g=Object(a.useRef)(G(t)),b=Object(a.useCallback)((function(e,t,n,a,i){var s=m.current.find((function(t){return t.className===e}));s.x=t,s.y=n,s.width=a,s.height=i,r(0===D()(m.current,g.current,T.a).length),d||u(!0)}),[m,h]),v=Object(a.useCallback)((function(e,t){m.current=G(e),h.current=G(e),g.current=G(t),r(!1),u(!1)}),[m,h]);return[s,d,b,v]}(q[x].boxes,q[x].goal),p=Object(l.a)(w,4),y=p[0],E=p[1],N=p[2],S=p[3],O=Object(a.useState)(Math.random().toString(36).substring(7)),z=Object(l.a)(O,2),j=z[0],C=z[1],_=Object(a.useCallback)((function(){if(n)s(!1);else if(y){if(x+1===q.length)return void u(!0);A((x+1)%q.length)}}),[x,y]),A=function(e){f(e),S(q[e].boxes,q[e].goal)};return i.a.createElement("main",null,i.a.createElement(h,{onSubmit:_,submitText:n?"Begin":o?null:"Submit"},n&&i.a.createElement(b,null),!n&&!o&&i.a.createElement(g,{level:q[x]}),!o&&!n&&E&&i.a.createElement(H,{correct:y})),!n&&!o&&i.a.createElement(d,{rng:j,level:q[x],sceneIndex:x,onInput:N,onReset:function(){S(q[x].boxes,q[x].goal),C(Math.random().toString(36).substring(7))}}),o&&i.a.createElement(R,null))};r.a.render(i.a.createElement(Y,null),document.getElementById("root"))},50:function(e,t,n){e.exports=n(348)},55:function(e,t,n){},56:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){}},[[50,1,2]]]);
//# sourceMappingURL=main.38eb0785.chunk.js.map